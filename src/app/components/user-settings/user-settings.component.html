<mat-card>
  <app-shade [isActive]="isSaving" [hasError]="errorSaving" [errorMessage]="errorSaving"></app-shade>
  <form [formGroup]="userSettingsFormGroup" (submit)="onSubmit()">

    <mat-card>
      <mat-card-header>
        <div mat-card-avatar class="avatar">
          <mat-icon>show_chart</mat-icon>
        </div>
        <mat-card-title>
          Chart
        </mat-card-title>
        <mat-card-subtitle>settings</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field>
          <mat-select placeholder="Data Types to show on charts" formControlName="dataTypesToUse" multiple>
            <mat-optgroup *ngFor="let dataGroup of dataGroups" [label]="dataGroup.name"
                          [disabled]="dataGroup.disabled">
              <mat-option *ngFor="let data of dataGroup.data" [value]="data">
                {{data}}
              </mat-option>
            </mat-optgroup>
          </mat-select>
          <mat-hint>Tip: select the ones that you use <b>often</b></mat-hint>
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <button mat-flat-button *ngIf="!hasError()" [disabled]="isSaving" color="primary" (click)="onSubmit()">
      Save
    </button>
  </form>
</mat-card>
