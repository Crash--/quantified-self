<mat-dialog-content>

  <form [formGroup]="userFormGroup" (submit)="onSubmit()">
    <mat-form-field>
      <input matInput placeholder="Name" formControlName="displayName">
      <mat-hint>Quite apparent, the name you would like to use</mat-hint>
      <mat-error *ngIf="hasError('displayName')">
        Name must not be empty
      </mat-error>
    </mat-form-field>

    <div class="radio-container">
      <label>Privacy: </label>
      <mat-radio-group formControlName="privacy">
        <mat-radio-button [value]="privacy.public">
          Public
        </mat-radio-button>
        <mat-radio-button [value]="privacy.private">
          Private
        </mat-radio-button>
      </mat-radio-group>
    </div>


    <mat-form-field>
      <input matInput placeholder="Your bio, description or anything you want to share..."
             formControlName="description">
      <mat-hint>This can be something that if your profile is public other users can see</mat-hint>
      <mat-error *ngIf="hasError('description')">
        Description must not be empty
      </mat-error>
    </mat-form-field>

    <mat-checkbox (change)="$event.checked ? showDelete = true : showDelete = false">
      I want to delete my account and all data
    </mat-checkbox>

    <div *ngIf="!showDelete">
      <button mat-stroked-button (click)="close()">Cancel</button>

      <button mat-flat-button color="primary" (click)="onSubmit()">Save</button>
    </div>

    <div class="account-delete" *ngIf="showDelete">
      <button class="full" *ngIf="!consentToDelete" mat-flat-button color="warn" (click)="consentToDelete = true">
        DELETE MY ACCOUNT
      </button>
      <button class="full" *ngIf="consentToDelete" mat-flat-button color="warn" (click)="deleteUser()">I am sure, Yes
        delete it
      </button>
    </div>

  </form>
</mat-dialog-content>
