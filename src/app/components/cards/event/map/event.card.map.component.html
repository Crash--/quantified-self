<md-grid-list cols="5" rowHeight="2:2">
  <md-grid-tile rowspan="5" colspan="3">
    <agm-map
      style="height: 100%; width: 100%;"
      [fullscreenControl]="true"
      [fitBounds]="getBounds()">
      <agm-polyline
        *ngFor="let activity of event.getActivities(); let i = index;"
        [strokeColor]="getActivityColor(i.toString())">
        <agm-polyline-point
          *ngFor="let point of event.getPointsWithPosition({activities: [activity]})"
          [latitude]="point.getPosition().latitudeDegrees"
          [longitude]="point.getPosition().longitudeDegrees">
        </agm-polyline-point>
      </agm-polyline>
    </agm-map>
  </md-grid-tile>
  <md-grid-tile colspan="2" rowspan="1">
    <app-card-map-location [locationData]="locationData"></app-card-map-location>
  </md-grid-tile>
  <!-- @todo the following belongs else -->
  <md-grid-tile colspan="2" rowspan="1">
    <md-chip-list>
      <md-chip *ngFor="let activity of event.getActivities()">
        {{ activity.getType() ? activity.getType() : '?'}}
        {{ (event.getDistanceInMeters(null, null, null, [activity]) / 1000).toFixed(1) }} km
        in
        {{ activity.getDurationInSeconds() | amDuration:'seconds' }}
        <span *ngIf="activity.getType() === 'running' || activity.getType() === 'Running'">
          at
        {{ (activity.getDurationInSeconds() * 1000) / (event.getDistanceInMeters(null, null, null, [activity]) / 1000) || 0 | amUtc | amDateFormat: 'mm:ss' }} km/h

        </span>
        <span *ngIf="activity.getType() === 'Biking'">
          at
        {{ (event.getDistanceInMeters(null, null, null, [activity]) / 1000).toFixed(1) }} km/h
        </span>
      </md-chip>
    </md-chip-list>
  </md-grid-tile>
  <md-grid-tile colspan="2" rowspan="3">
    <app-card-map-weather [event]="event"></app-card-map-weather>
  </md-grid-tile>
</md-grid-list>
