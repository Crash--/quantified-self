<mat-card *ngIf="event.getActivities().length > 1">
  <mat-card-content>
    <section>
      <app-activities-checkboxes [event]="event" (selectedActivities)="onSelectedActivities($event)">
      </app-activities-checkboxes>
    </section>
  </mat-card-content>
</mat-card>

<mat-card>
  <agm-map
    [fullscreenControl]="true"
    [mapTypeControl]="true"
    [scaleControl]="true"
    [fitBounds]="getBounds()">
    <agm-polyline
      *ngFor="let activity of this.selectedActivities;"
      [strokeColor]="eventColorService.getActivityColor(event, activity)"
      [strokeWeight]="4">
      <agm-polyline-point
        *ngFor="let point of event.getPointsWithPosition(null, null, [activity])"
        [latitude]="point.getPosition().latitudeDegrees"
        [longitude]="point.getPosition().longitudeDegrees">
      </agm-polyline-point>
    </agm-polyline>

    <agm-marker
      [title]="'S'"
      [label]="'S'"
      [latitude]="getStartPosition().latitudeDegrees"
      [longitude]="getStartPosition().longitudeDegrees">
    </agm-marker>
    <agm-marker *ngFor="let lap of getAllLaps(); let i = index;"
      [title]="i.toString()"
      [label]="i.toString()"
      [latitude]="getLapEndPosition(lap).latitudeDegrees"
      [longitude]="getLapEndPosition(lap).longitudeDegrees">
    </agm-marker>

  </agm-map>
</mat-card>

<div *ngFor="let lap of getAllLaps()">test</div>
