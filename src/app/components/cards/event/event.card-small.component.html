<mat-card [class.selected]="classActive">
  <mat-card-header>
    <div matCardAvatar>
      <div class="card-avatar-container">
        <mat-icon *ngFor="let activity of event.getActivities()">
          {{ getIconFromActivityType(activity) }}
        </mat-icon>
      </div>
    </div>
    <mat-card-title>
      {{ event.getName() }}
    </mat-card-title>

    <app-event-card-actions-menu [event]="event" align="end"></app-event-card-actions-menu>

    <mat-card-subtitle>
      {{ event.getFirstActivity().getStartDate() | date:'short' }}
    </mat-card-subtitle>

  </mat-card-header>

  <mat-card-content>
    <span class="mat-body-2">{{ event.getActivities().length }}</span> activities of total
    <span class="mat-body-2">{{ (event.getSummary().getTotalDistanceInMeters()/1000).toFixed(1) }}</span> km
    in about
    <span class="mat-body-2">{{ event.getSummary().getTotalDurationInSeconds() | amDuration:'seconds' }}</span>
    <span *ngIf="event.getFirstActivity().getSummary().getGeoLocationInfo()">
      nearby
      <span class="mat-body-2">{{ event.getFirstActivity().getSummary().getGeoLocationInfo().city }},</span>
      <span class="mat-body-2">{{ event.getFirstActivity().getSummary().getGeoLocationInfo().country }}</span>.
    </span>
  </mat-card-content>
  <mat-card-actions>
    <a mat-button [routerLink]="['/dashboard']"
       [queryParams]="{ eventID: event.getID() }">Details</a>
  </mat-card-actions>
</mat-card>
