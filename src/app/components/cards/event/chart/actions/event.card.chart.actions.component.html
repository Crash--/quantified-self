<button mat-icon-button [matMenuTriggerFor]="menu" (click)="$event.stopPropagation();">
  <mat-icon>more_vert</mat-icon>
</button>
<mat-menu #menu="matMenu">
  <section mat-menu-item class="first">
    <mat-form-field>
      <mat-label>X Axis type</mat-label>
      <mat-select placeholder="X Axis type" [(value)]="xAxisType" (selectionChange)="somethingChanged($event)">
        <mat-option *ngFor="let xAxisType of xAxisTypes | keyvalue" [value]="xAxisType.value">
          {{xAxisType.key}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </section>

  <section mat-menu-item>
    <mat-slide-toggle
      [color]="'accent'"
      (change)="somethingChanged($event)"
      (click)="$event.stopPropagation();"
      [(ngModel)]="stackYAxes">
      <span matTooltip="Show charts on top of each other">
        Stack Y Axes
      </span>
    </mat-slide-toggle>
  </section>

  <section mat-menu-item>
    <mat-slide-toggle
      [color]="'accent'"
      (change)="somethingChanged($event)"
      (click)="$event.stopPropagation();"
      [(ngModel)]="showGrid">
      <span matTooltip="Show grid on the chart">
        Show grid
      </span>
    </mat-slide-toggle>
  </section>

  <section mat-menu-item>
    <mat-slide-toggle
      [color]="'accent'"
      (change)="somethingChanged($event)"
      (click)="$event.stopPropagation();"
      [(ngModel)]="showLaps">
      <span matTooltip="When enabled auto lap markers will be added to the chart">
        Show laps
      </span>
    </mat-slide-toggle>
  </section>

  <section mat-menu-item>
    <mat-slide-toggle
      [color]="'accent'"
      (change)="somethingChanged($event)"
      (click)="$event.stopPropagation();"
      [(ngModel)]="showAllData">
      <span matTooltip="Show everything that was read from the file">
        Show all data
      </span>
    </mat-slide-toggle>
  </section>
</mat-menu>
