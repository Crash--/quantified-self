<md-card>
  <md-card-header>
    <!--<div md-card-avatar class="example-header-image"></div>-->
    <md-card-title><h6 class="text-truncate">{{ event.getName() }}</h6></md-card-title>
    <md-card-subtitle>
      <h4 class="mb-1">Distance: {{ (event.getDistanceInMeters()/1000).toFixed(1) }} km</h4>
      <p class="mb-1">Duration: {{ event.getTotalDurationInSeconds() | amDuration:'seconds' }}</p>
      <p class="mb-1">{{ event.getFirstActivity().getStartDate() | date:'medium' }}</p>
    </md-card-subtitle>
  </md-card-header>

  <md-card-content>

    <agm-map
      style="height: 300px; width: 100%;"
      [fitBounds]="fitBounds()">

      <agm-polyline
        *ngFor="let activity of event.getActivities(); let i = index;"
        [strokeColor]="getActivityColor(i.toString())">

        <agm-polyline-point
          *ngFor="let point of event.getPointsWithPosition({activities: [activity]})"
          [latitude]="point.getPosition().latitudeDegrees"
          [longitude]="point.getPosition().longitudeDegrees">
        </agm-polyline-point>

      </agm-polyline>
    </agm-map>

  </md-card-content>
  <app-event-actions [event]="event"></app-event-actions>
</md-card>
